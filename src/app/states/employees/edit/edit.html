<div class="modal-header">
    <button type="button" class="close" ng-click="vm.cancel()">×</button>
    <h4 class="modal-title">Edit Employee</h4>
</div>
<div class="modal-body form-wizard">
    <form class="form-horizontal form-validation" name="accountDetailsForm" role="form" novalidate mm-unsaved-form-warning-modal="vm.reset()">
        <div class="col-sm-12 col-md-3 pl-0">
            <ul class="list-table mb10">
                <li style="width:50px;">
                    <img class="img-circle img-bordered-dark" src="../../../images/me.jpg" alt="" width="45px">
                </li>
                <li class="text-left">
                    <h5 class="font-weight-heavy ellipsis">Martin Micunda</h5>
                    <div>
                        <!-- TODO: this should progress directive mm-progress-bar -->
                        <div class="progress progress-xs mb5">
                            <div class="progress-bar"
                                 ng-class="{'progress-bar-success': vm.profileComplete >= 70, 'progress-bar-warning': vm.profileComplete < 70 && vm.profileComplete >= 40, 'progress-bar-danger': vm.profileComplete < 40}"
                                 ng-style="{'width': vm.profileComplete + '%'}"></div>
                        </div>
                        <p class="text-muted clearfix">
                            <span class="pull-left">Profile complete</span>
                            <span class="pull-right">{{vm.profileComplete}}%</span>
                        </p>
                    </div>
                </li>
            </ul>
            <ul class="nav nav-tabs nav-stacked">
                <li ui-sref-active="active"><a ui-sref="employees.edit.account-details"><i class="fa fa-user fa-fw "></i>&nbsp;Account Details</a></li>
                <li ui-sref-active="active"><a ui-sref="employees.edit.account-settings"><i class="fa fa-cogs fa-fw "></i>&nbsp;Account Settings</a></li>
                <li ui-sref-active="active"><a ui-sref="employees.edit.contact-details"><i class="fa fa-pencil-square-o fa-fw"></i>&nbsp;Contact Details</a></li>
                <li ui-sref-active="active"><a ui-sref="employees.edit.bank-details"><i class="fa fa-bank fa-fw"></i>&nbsp;Bank Details</a></li>
                <li ui-sref-active="active"><a ui-sref="employees.edit.hourly-rates"><i class="fa fa-dollar fa-fw"></i>&nbsp;Hourly Rates</a></li>
            </ul>
        </div>

        <div class="well col-sm-12 col-md-9 clearfix">
            <div ui-view="modal"></div>
            <div class="form-group">
                <div class="col-sm-5 col-sm-offset-4">
                    <jp-ng-bs-animated-button class="btn btn-sm btn-success" ng-click="vm.save(accountDetailsForm)" is-submitting="vm.isSubmitting" result="vm.result" options="vm.saveButtonOptions"></jp-ng-bs-animated-button>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </form>
</div>
<script type="text/ng-template" id="unsavedWarningModal.html">
    <div class="modal-header">
        <button type="button" class="close" ng-click="vm.cancel()">×</button>
        <h4 class="modal-title">Unsaved Changes</h4>
    </div>
    <div class="modal-body">
        <p>You have unsaved changes. Leave the page?</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-sm btn-white" ng-click="vm.cancel()">Cancel</button>
        <button class="btn btn-sm btn-success" ng-click="vm.ok()">Ignore Changes</button>
    </div>
</script>
